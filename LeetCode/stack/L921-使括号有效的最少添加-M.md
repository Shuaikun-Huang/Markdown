# **题目**  
给定一个由 '(' 和 ')' 括号组成的字符串 S，我们需要添加最少的括号，'(' 或 ')'，可以在任何位置，以使得到的括号字符串有效。

从形式上讲，只有满足下面几点之一，括号字符串才是有效的：  
- 它是一个空字符串  
- 它可以被写成 AB , 其中 A 和 B 都是有效字符串
- 它可以被写作 (A)，其中 A 是有效字符串  

给定一个括号字符串，返回为使结果字符串有效而必须添加的最少括号数。
 
**示例1**：  
> 输入："())"  
> 输出：1    

**示例2**：  
> 输入："((("  
> 输出：3  

**示例3**：  
> 输入："()"  
> 输出：0  

**示例4**：  
> 输入："()))(("   
> 输出：4 

# **思路** 
**方法1**   
使用栈，遍历每个字符，只要是 '(' ，则入栈，等待 ')' 与其匹配。当为 ')' 时，如果栈顶元素与其匹配，则弹出栈顶元素。反则栈为空说明需要添加一个 '(' ，则计数+1。最后**返回值等于栈中剩余 '(' 的数量与计数值之和**。  

**方法2**   
使用两个计数器，将方法1中的栈用一个计数器代替。当为 '(' 时，计数器1加一；当为 ')' 时，如果计数器1不为0，则减一；如果计数器1为0，即为方法1中栈空情况，则计数器2加一。最后**返回值等于两个计数器之和**。

# **解答**  
**方法1**  
```C++
class Solution {
public:
    int minAddToMakeValid(string S) {
        if (S.empty()) return 0;
        int ans = 0;
        stack<char> sta;
        for(auto s : S){
            if(s == '(') sta.push(s);
            else if( s == ')' && !sta.empty())
                sta.pop();
            else ans += 1;
        }
        return ans+sta.size();
    }
};
```

**方法2**  
```C++
class Solution {
public:
    int minAddToMakeValid(string S) {
        if (S.empty()) return 0;
        int ans = 0;
        int temp = 0;
        for(auto s : S){
            if(s == '(') temp += 1;
            else if( s == ')' && temp != 0)
                temp -= 1;
            else ans += 1;
        }
        return ans+temp;
    }
};
```