<svg id="SvgjsSvg1006" width="1037" height="985.8875274658203" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1007"><marker id="SvgjsMarker1054" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1055" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1074" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1075" d="M0,2 L14,6 L0,11 L0,2" fill="#ff0000" stroke="#ff0000" stroke-width="2"></path></marker><marker id="SvgjsMarker1126" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1127" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1140" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1141" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1144" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1145" d="M0,2 L14,6 L0,11 L0,2" fill="#ff0000" stroke="#ff0000" stroke-width="2"></path></marker><marker id="SvgjsMarker1148" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1149" d="M0,2 L14,6 L0,11 L0,2" fill="#ff0000" stroke="#ff0000" stroke-width="2"></path></marker><marker id="SvgjsMarker1158" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1159" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1194" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1195" d="M0,2 L14,6 L0,11 L0,2" fill="#ff0000" stroke="#ff0000" stroke-width="2"></path></marker><marker id="SvgjsMarker1216" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1217" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1246" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1247" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1256" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1257" d="M0,2 L14,6 L0,11 L0,2" fill="#ff0000" stroke="#ff0000" stroke-width="2"></path></marker><marker id="SvgjsMarker1270" markerWidth="16" markerHeight="12" refX="0" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1271" d="M15,1.5 L2,6 L15,10.5" fill="#336600" stroke="#336600" stroke-width="2"></path></marker><marker id="SvgjsMarker1272" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1273" d="M0,2 L14,6 L0,11 L0,2" fill="#336600" stroke="#336600" stroke-width="2"></path></marker><marker id="SvgjsMarker1290" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1291" d="M0,2 L14,6 L0,11 L0,2" fill="#009900" stroke="#009900" stroke-width="2"></path></marker><marker id="SvgjsMarker1300" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1301" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1304" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1305" d="M0,2 L14,6 L0,11 L0,2" fill="#ff0000" stroke="#ff0000" stroke-width="2"></path></marker><marker id="SvgjsMarker1308" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1309" d="M0,2 L14,6 L0,11 L0,2" fill="#994c00" stroke="#994c00" stroke-width="2"></path></marker></defs><g id="SvgjsG1008" transform="translate(189.60002136230457,25.011275035141807)"><path id="SvgjsPath1009" d="M 0 4Q 0 0 4 0L 617 0Q 621 0 621 4L 621 443.5524468779586Q 621 447.5524468779586 617 447.5524468779586L 4 447.5524468779586Q 0 447.5524468779586 0 443.5524468779586Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1010"><text id="SvgjsText1011" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="78" fill="#99004d" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="23.018031919854185" transform="rotate(0)"><tspan id="SvgjsTspan1012" dy="16" x="310.5"><tspan id="SvgjsTspan1013" style="text-decoration:;">三次握手连接</tspan></tspan></text></g></g><g id="SvgjsG1014" transform="translate(25,506.88751220703125)"><path id="SvgjsPath1015" d="M 0 4Q 0 0 4 0L 983 0Q 987 0 987 4L 987 450.3999938964844Q 987 454.3999938964844 983 454.3999938964844L 4 454.3999938964844Q 0 454.3999938964844 0 450.3999938964844Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1016"><text id="SvgjsText1017" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="78" fill="#99004d" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="23.507142421177452" transform="rotate(0)"><tspan id="SvgjsTspan1018" dy="16" x="493.5"><tspan id="SvgjsTspan1019" style="text-decoration:;">四次握手断开</tspan></tspan></text></g></g><g id="SvgjsG1020" transform="translate(40.35687095914545,687.7874984741211)"><path id="SvgjsPath1021" d="M 0 4Q 0 0 4 0L 478 0Q 482 0 482 4L 482 262Q 482 266 478 266L 4 266Q 0 266 0 262Z" stroke-dasharray="10,6" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1022"><text id="SvgjsText1023" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="52" fill="#323232" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="10.05" transform="rotate(0)"><tspan id="SvgjsTspan1024" dy="16" x="241"><tspan id="SvgjsTspan1025" style="text-decoration:;">主动关闭</tspan></tspan></text></g></g><g id="SvgjsG1026" transform="translate(415.18622754956823,87.75817993212428)"><path id="SvgjsPath1027" d="M 0 4Q 0 0 4 0L 134.66231281882506 0Q 138.66231281882506 0 138.66231281882506 4L 138.66231281882506 35.7513907809991Q 138.66231281882506 39.7513907809991 134.66231281882506 39.7513907809991L 4 39.7513907809991Q 0 39.7513907809991 0 35.7513907809991Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1028"><text id="SvgjsText1029" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="117" fill="#323232" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="9.925695390499552" transform="rotate(0)"><tspan id="SvgjsTspan1030" dy="16" x="69.5"><tspan id="SvgjsTspan1031" style="text-decoration:;">CLOSED（起始点）</tspan></tspan></text></g></g><g id="SvgjsG1032" transform="translate(200.60002136230474,175.0006289016432)"><path id="SvgjsPath1033" d="M 0 4Q 0 0 4 0L 134.66231281882506 0Q 138.66231281882506 0 138.66231281882506 4L 138.66231281882506 35.7513907809991Q 138.66231281882506 39.7513907809991 134.66231281882506 39.7513907809991L 4 39.7513907809991Q 0 39.7513907809991 0 35.7513907809991Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1034"><text id="SvgjsText1035" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="46" fill="#323232" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="9.925695390499552" transform="rotate(0)"><tspan id="SvgjsTspan1036" dy="16" x="69.5"><tspan id="SvgjsTspan1037" style="text-decoration:;">LISTEN</tspan></tspan></text></g></g><g id="SvgjsG1038" transform="translate(275.37498174265335,133.77085822055534)"><path id="SvgjsPath1039" d="M 0 0L 139.81124580691483 0L 139.81124580691483 20L 0 20Z" stroke="none" fill="none"></path><g id="SvgjsG1040"><text id="SvgjsText1041" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="126" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="-7.95" transform="rotate(0)"><tspan id="SvgjsTspan1042" dy="16" x="70"><tspan id="SvgjsTspan1043" style="text-decoration:;">1. 服务端调用listen函</tspan></tspan><tspan id="SvgjsTspan1044" dy="16" x="70"><tspan id="SvgjsTspan1045" style="text-decoration:;">数，进入监听状态</tspan></tspan></text></g></g><g id="SvgjsG1046" transform="translate(661.0191837779705,252.48243561691442)"><path id="SvgjsPath1047" d="M 0 4Q 0 0 4 0L 134.66231281882506 0Q 138.66231281882506 0 138.66231281882506 4L 138.66231281882506 35.7513907809991Q 138.66231281882506 39.7513907809991 134.66231281882506 39.7513907809991L 4 39.7513907809991Q 0 39.7513907809991 0 35.7513907809991Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1048"><text id="SvgjsText1049" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="67" fill="#323232" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="9.925695390499552" transform="rotate(0)"><tspan id="SvgjsTspan1050" dy="16" x="69.5"><tspan id="SvgjsTspan1051" style="text-decoration:;">SYN_SENT</tspan></tspan></text></g></g><g id="SvgjsG1052"><path id="SvgjsPath1053" d="M553.8485403683933 107.6338753226238L730.3503401873829 107.6338753226238L730.3503401873829 252.48243561691442" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1054)"></path></g><g id="SvgjsG1056" transform="translate(576.4867091594522,149.25897232515118)"><path id="SvgjsPath1057" d="M 0 0L 146.11331220285263 0L 146.11331220285263 50.02853377836445L 0 50.02853377836445Z" stroke="none" fill="none"></path><g id="SvgjsG1058"><text id="SvgjsText1059" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="143" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="-0.935733110817776" transform="rotate(0)"><tspan id="SvgjsTspan1060" dy="16" x="73.5"><tspan id="SvgjsTspan1061" style="text-decoration:;">2. 客户端调用connect函</tspan></tspan><tspan id="SvgjsTspan1062" dy="16" x="73.5"><tspan id="SvgjsTspan1063" style="text-decoration:;">数，发起连接，向服务端</tspan></tspan><tspan id="SvgjsTspan1064" dy="16" x="73.5"><tspan id="SvgjsTspan1065" style="text-decoration:;">发送SYN（第一次握手）</tspan></tspan></text></g></g><g id="SvgjsG1066" transform="translate(200.60002136230474,292.2338263979135)"><path id="SvgjsPath1067" d="M 0 4Q 0 0 4 0L 134.66231281882506 0Q 138.66231281882506 0 138.66231281882506 4L 138.66231281882506 35.7513907809991Q 138.66231281882506 39.7513907809991 134.66231281882506 39.7513907809991L 4 39.7513907809991Q 0 39.7513907809991 0 35.7513907809991Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1068"><text id="SvgjsText1069" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="70" fill="#323232" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="9.925695390499552" transform="rotate(0)"><tspan id="SvgjsTspan1070" dy="16" x="69.5"><tspan id="SvgjsTspan1071" style="text-decoration:;">SYN_RCVD</tspan></tspan></text></g></g><g id="SvgjsG1072"><path id="SvgjsPath1073" d="M269.9311777717173 214.7520196826423L269.9311777717173 253.4929230402779L269.9311777717173 253.4929230402779L269.9311777717173 292.2338263979135" stroke="#ff0000" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1074)"></path></g><g id="SvgjsG1076" transform="translate(270.60002136230474,237.28749084472656)"><path id="SvgjsPath1077" d="M 0 0L 235 0L 235 41.00001525878906L 0 41.00001525878906Z" stroke="none" fill="none"></path><g id="SvgjsG1078"><text id="SvgjsText1079" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="234" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="2.550007629394531" transform="rotate(0)"><tspan id="SvgjsTspan1080" dy="16" x="117.5"><tspan id="SvgjsTspan1081" style="text-decoration:;">3. 服务端接收到客户端发送的SYN后，</tspan></tspan><tspan id="SvgjsTspan1082" dy="16" x="117.5"><tspan id="SvgjsTspan1083" style="text-decoration:;">向客户端发送SYN和ACK（第二次握手）</tspan></tspan></text></g></g><g id="SvgjsG1084" transform="translate(522.3568709591455,417.5361153225166)"><path id="SvgjsPath1085" d="M 0 4Q 0 0 4 0L 134.66231281882506 0Q 138.66231281882506 0 138.66231281882506 4L 138.66231281882506 35.7513907809991Q 138.66231281882506 39.7513907809991 134.66231281882506 39.7513907809991L 4 39.7513907809991Q 0 39.7513907809991 0 35.7513907809991Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1086"><text id="SvgjsText1087" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="90" fill="#323232" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="9.925695390499552" transform="rotate(0)"><tspan id="SvgjsTspan1088" dy="16" x="69.5"><tspan id="SvgjsTspan1089" style="text-decoration:;">ESTABLISHED</tspan></tspan></text></g></g><g id="SvgjsG1090" transform="translate(561.9645221546978,322.1095217884131)"><path id="SvgjsPath1091" d="M 0 0L 160.63549920760698 0L 160.63549920760698 56.17798431510258L 0 56.17798431510258Z" stroke="none" fill="none"></path><g id="SvgjsG1092"><text id="SvgjsText1093" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="158" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="2.1389921575512885" transform="rotate(0)"><tspan id="SvgjsTspan1094" dy="16" x="80.5"><tspan id="SvgjsTspan1095" style="text-decoration:;">4. 客户端收到服务端发送的</tspan></tspan><tspan id="SvgjsTspan1096" dy="16" x="80.5"><tspan id="SvgjsTspan1097" style="text-decoration:;">SYN和ACK后，向服务端发</tspan></tspan><tspan id="SvgjsTspan1098" dy="16" x="80.5"><tspan id="SvgjsTspan1099" style="text-decoration:;">送ACK（第三次握手）</tspan></tspan></text></g></g><g id="SvgjsG1100" transform="translate(305.15865844629826,354.9852171789126)"><path id="SvgjsPath1101" d="M 0 0L 193.44136291600648 0L 193.44136291600648 71.00001525878906L 0 71.00001525878906Z" stroke="none" fill="none"></path><g id="SvgjsG1102"><text id="SvgjsText1103" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="183" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="1.5500076293945313" transform="rotate(0)"><tspan id="SvgjsTspan1104" dy="16" x="97"><tspan id="SvgjsTspan1105" style="text-decoration:;">5. 服务端收到客户端发送的ACK</tspan></tspan><tspan id="SvgjsTspan1106" dy="16" x="97"><tspan id="SvgjsTspan1107" style="text-decoration:;">后，三次握手成功，accept函数</tspan></tspan><tspan id="SvgjsTspan1108" dy="16" x="97"><tspan id="SvgjsTspan1109" style="text-decoration:;">返回连接客户端的socket，连接</tspan></tspan><tspan id="SvgjsTspan1110" dy="16" x="97"><tspan id="SvgjsTspan1111" style="text-decoration:;">成功，进入数据传输状态</tspan></tspan></text></g></g><g id="SvgjsG1112" transform="translate(49.35687095914545,718.7874984741211)"><path id="SvgjsPath1113" d="M 0 4Q 0 0 4 0L 145 0Q 149 0 149 4L 149 43Q 149 47 145 47L 4 47Q 0 47 0 43Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1114"><text id="SvgjsText1115" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="78" fill="#323232" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="13.55" transform="rotate(0)"><tspan id="SvgjsTspan1116" dy="16" x="74.5"><tspan id="SvgjsTspan1117" style="text-decoration:;">FIN_WAIT_1</tspan></tspan></text></g></g><g id="SvgjsG1118" transform="translate(693.6000213623047,593.2874984741211)"><path id="SvgjsPath1119" d="M 0 4Q 0 0 4 0L 267 0Q 271 0 271 4L 271 236.00000381469727Q 271 240.00000381469727 267 240.00000381469727L 4 240.00000381469727Q 0 240.00000381469727 0 236.00000381469727Z" stroke-dasharray="10,6" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1120"><text id="SvgjsText1121" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="52" fill="#323232" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="8.192857415335517" transform="rotate(0)"><tspan id="SvgjsTspan1122" dy="16" x="135.5"><tspan id="SvgjsTspan1123" style="text-decoration:;">被动关闭</tspan></tspan></text></g></g><g id="SvgjsG1124"><path id="SvgjsPath1125" d="M591.6880273685579 457.2875061035157C 612 709.8875122070312 123.85687095914551 504.4053212607362 123.85687095914545 718.7874984741211" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1126)"></path></g><g id="SvgjsG1128" transform="translate(297.35687095914545,615.2874984741211)"><path id="SvgjsPath1129" d="M 0 0L 162 0L 162 44.0000114440918L 0 44.0000114440918Z" stroke="none" fill="none"></path><g id="SvgjsG1130"><text id="SvgjsText1131" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="162" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="-3.9499942779541017" transform="rotate(0)"><tspan id="SvgjsTspan1132" dy="16" x="81"><tspan id="SvgjsTspan1133" style="text-decoration:;">1. 服务器或客户端一方调用</tspan></tspan><tspan id="SvgjsTspan1134" dy="16" x="81"><tspan id="SvgjsTspan1135" style="text-decoration:;">close函数，并向另一方发送</tspan></tspan><tspan id="SvgjsTspan1136" dy="16" x="81"><tspan id="SvgjsTspan1137" style="text-decoration:;">FIN（第一次握手）</tspan></tspan></text></g></g><g id="SvgjsG1138"><path id="SvgjsPath1139" d="M730.3503401873829 292.2338263979135L730.3503401873829 437.4118107130161L661.0191837779705 437.4118107130161" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1140)"></path></g><g id="SvgjsG1142"><path id="SvgjsPath1143" d="M415.18622754956823 107.63387532262382L269.9311777717173 107.63387532262382L269.9311777717173 175.0006289016432" stroke="#ff0000" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1144)"></path></g><g id="SvgjsG1146"><path id="SvgjsPath1147" d="M269.9311777717173 331.9852171789126L269.9311777717173 437.4118107130161L522.3568709591455 437.4118107130161" stroke="#ff0000" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1148)"></path></g><g id="SvgjsG1150" transform="translate(49.35687095914545,856.7874984741211)"><path id="SvgjsPath1151" d="M 0 4Q 0 0 4 0L 145 0Q 149 0 149 4L 149 43Q 149 47 145 47L 4 47Q 0 47 0 43Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1152"><text id="SvgjsText1153" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="78" fill="#323232" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="13.55" transform="rotate(0)"><tspan id="SvgjsTspan1154" dy="16" x="74.5"><tspan id="SvgjsTspan1155" style="text-decoration:;">FIN_WAIT_2</tspan></tspan></text></g></g><g id="SvgjsG1156"><path id="SvgjsPath1157" d="M123.85687095914545 765.7874984741211L123.85687095914545 811.2874984741211L123.85687095914545 811.2874984741211L123.85687095914545 856.7874984741211" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1158)"></path></g><g id="SvgjsG1160" transform="translate(126.35687095914545,792.7874984741211)"><path id="SvgjsPath1161" d="M 0 0L 120 0L 120 40L 0 40Z" stroke="none" fill="none"></path><g id="SvgjsG1162"><text id="SvgjsText1163" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="118" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="-5.95" transform="rotate(0)"><tspan id="SvgjsTspan1164" dy="16" x="60"><tspan id="SvgjsTspan1165" style="text-decoration:;">3. 收到另一方发送到</tspan></tspan><tspan id="SvgjsTspan1166" dy="16" x="60"><tspan id="SvgjsTspan1167" style="text-decoration:;">ACK后，等待其发送</tspan></tspan><tspan id="SvgjsTspan1168" dy="16" x="60"><tspan id="SvgjsTspan1169" style="text-decoration:;">FIN</tspan></tspan></text></g></g><g id="SvgjsG1170" transform="translate(719.6000213623047,627.2874984741211)"><path id="SvgjsPath1171" d="M 0 4Q 0 0 4 0L 145 0Q 149 0 149 4L 149 43Q 149 47 145 47L 4 47Q 0 47 0 43Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1172"><text id="SvgjsText1173" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="84" fill="#323232" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="13.55" transform="rotate(0)"><tspan id="SvgjsTspan1174" dy="16" x="74.5"><tspan id="SvgjsTspan1175" style="text-decoration:;">CLOSE_WAIT</tspan></tspan></text></g></g><g id="SvgjsG1176" transform="translate(767.5862519636307,528.2875022888184)"><path id="SvgjsPath1177" d="M 0 0L 179.01376939867396 0L 179.01376939867396 42.000003814697266L 0 42.000003814697266Z" stroke="none" fill="none"></path><g id="SvgjsG1178"><text id="SvgjsText1179" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="179" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="-4.949998092651367" transform="rotate(0)"><tspan id="SvgjsTspan1180" dy="16" x="90"><tspan id="SvgjsTspan1181" style="text-decoration:;">2. 被动方收到FIN后，发送ACK</tspan></tspan><tspan id="SvgjsTspan1182" dy="16" x="90"><tspan id="SvgjsTspan1183" style="text-decoration:;">给主动方（第二次握手），并</tspan></tspan><tspan id="SvgjsTspan1184" dy="16" x="90"><tspan id="SvgjsTspan1185" style="text-decoration:;">等待本方将数据发送完</tspan></tspan></text></g></g><g id="SvgjsG1186" transform="translate(719.6000213623047,756.2874984741211)"><path id="SvgjsPath1187" d="M 0 4Q 0 0 4 0L 145 0Q 149 0 149 4L 149 43Q 149 47 145 47L 4 47Q 0 47 0 43Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1188"><text id="SvgjsText1189" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="66" fill="#323232" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="13.55" transform="rotate(0)"><tspan id="SvgjsTspan1190" dy="16" x="74.5"><tspan id="SvgjsTspan1191" style="text-decoration:;">LAST_ACK</tspan></tspan></text></g></g><g id="SvgjsG1192"><path id="SvgjsPath1193" d="M794.1000213623047 674.2874984741211L794.1000213623047 715.2874984741211L794.1000213623047 715.2874984741211L794.1000213623047 756.2874984741211" stroke="#ff0000" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1194)"></path></g><g id="SvgjsG1196" transform="translate(820.6000213623047,694.2874984741211)"><path id="SvgjsPath1197" d="M 0 0L 125 0L 125 47L 0 47Z" stroke="none" fill="none"></path><g id="SvgjsG1198"><text id="SvgjsText1199" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="123" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="-10.45" transform="rotate(0)"><tspan id="SvgjsTspan1200" dy="16" x="62.5"><tspan id="SvgjsTspan1201" style="text-decoration:;">4. 当数据发送完后，</tspan></tspan><tspan id="SvgjsTspan1202" dy="16" x="62.5"><tspan id="SvgjsTspan1203" style="text-decoration:;">调用close函数，并发</tspan></tspan><tspan id="SvgjsTspan1204" dy="16" x="62.5"><tspan id="SvgjsTspan1205" style="text-decoration:;">送FIN给对方（第三</tspan></tspan><tspan id="SvgjsTspan1206" dy="16" x="62.5"><tspan id="SvgjsTspan1207" style="text-decoration:;">次握手）</tspan></tspan></text></g></g><g id="SvgjsG1208" transform="translate(365.943077146409,856.7874984741211)"><path id="SvgjsPath1209" d="M 0 4Q 0 0 4 0L 145 0Q 149 0 149 4L 149 43Q 149 47 145 47L 4 47Q 0 47 0 43Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1210"><text id="SvgjsText1211" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="75" fill="#323232" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="13.55" transform="rotate(0)"><tspan id="SvgjsTspan1212" dy="16" x="74.5"><tspan id="SvgjsTspan1213" style="text-decoration:;">TIME_WAIT</tspan></tspan></text></g></g><g id="SvgjsG1214"><path id="SvgjsPath1215" d="M198.35687095914545 880.2874984741211L282.1499740527772 880.2874984741211L282.1499740527772 880.2874984741211L365.943077146409 880.2874984741211" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1216)"></path></g><g id="SvgjsG1218" transform="translate(221.35687095914545,890.7874984741211)"><path id="SvgjsPath1219" d="M 0 0L 120 0L 120 40L 0 40Z" stroke="none" fill="none"></path><g id="SvgjsG1220"><text id="SvgjsText1221" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="117" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="-5.95" transform="rotate(0)"><tspan id="SvgjsTspan1222" dy="16" x="60"><tspan id="SvgjsTspan1223" style="text-decoration:;">5. 收到FIN后，向对</tspan></tspan><tspan id="SvgjsTspan1224" dy="16" x="60"><tspan id="SvgjsTspan1225" style="text-decoration:;">方发送ACK（第四次</tspan></tspan><tspan id="SvgjsTspan1226" dy="16" x="60"><tspan id="SvgjsTspan1227" style="text-decoration:;">握手）</tspan></tspan></text></g></g><g id="SvgjsG1228" transform="translate(810.6000213623046,828.2874984741211)"><path id="SvgjsPath1229" d="M 0 0L 158 0L 158 41L 0 41Z" stroke="none" fill="none"></path><g id="SvgjsG1230"><text id="SvgjsText1231" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="144" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="10.55" transform="rotate(0)"><tspan id="SvgjsTspan1232" dy="16" x="79"><tspan id="SvgjsTspan1233" style="text-decoration:;">6. 收到ACK后，断开连接</tspan></tspan></text></g></g><g id="SvgjsG1234" transform="translate(539.6000213623048,829.7874984741211)"><path id="SvgjsPath1235" d="M 0 0L 142.9999999999999 0L 142.9999999999999 38L 0 38Z" stroke="none" fill="none"></path><g id="SvgjsG1236"><text id="SvgjsText1237" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="140" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="-6.95" transform="rotate(0)"><tspan id="SvgjsTspan1238" dy="16" x="71.5"><tspan id="SvgjsTspan1239" style="text-decoration:;">7. 等待2MSL后，断开连</tspan></tspan><tspan id="SvgjsTspan1240" dy="16" x="71.5"><tspan id="SvgjsTspan1241" style="text-decoration:;">接，2MSL是为了防止第</tspan></tspan><tspan id="SvgjsTspan1242" dy="16" x="71.5"><tspan id="SvgjsTspan1243" style="text-decoration:;">5步的ACK丢失情况</tspan></tspan></text></g></g><g id="SvgjsG1244"><path id="SvgjsPath1245" d="M514.943077146409 880.2874984741211L619.8559710496506 880.2874984741211L619.8559710496506 880.2874984741211L724.7688649528923 880.2874984741211" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1246)"></path></g><g id="SvgjsG1248" transform="translate(724.7688649528923,860.4118030836215)"><path id="SvgjsPath1249" d="M 0 4Q 0 0 4 0L 134.66231281882506 0Q 138.66231281882506 0 138.66231281882506 4L 138.66231281882506 35.7513907809991Q 138.66231281882506 39.7513907809991 134.66231281882506 39.7513907809991L 4 39.7513907809991Q 0 39.7513907809991 0 35.7513907809991Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1250"><text id="SvgjsText1251" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="117" fill="#323232" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="9.925695390499552" transform="rotate(0)"><tspan id="SvgjsTspan1252" dy="16" x="69.5"><tspan id="SvgjsTspan1253" style="text-decoration:;">CLOSED（起始点）</tspan></tspan></text></g></g><g id="SvgjsG1254"><path id="SvgjsPath1255" d="M794.1000213623047 803.2874984741211L794.1000213623047 831.8496507788714L794.1000213623047 831.8496507788714L794.1000213623047 860.4118030836215" stroke="#ff0000" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1256)"></path></g><g id="SvgjsG1258" transform="translate(296.35687095914545,800.7874984741211)"><path id="SvgjsPath1259" d="M 0 0L 120 0L 120 40L 0 40Z" stroke="none" fill="none"></path><g id="SvgjsG1260"><text id="SvgjsText1261" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="109" fill="#663300" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="-5.95" transform="rotate(0)"><tspan id="SvgjsTspan1262" dy="16" x="60"><tspan id="SvgjsTspan1263" style="text-decoration:;">3. 同时接到ACK和</tspan></tspan><tspan id="SvgjsTspan1264" dy="16" x="60"><tspan id="SvgjsTspan1265" style="text-decoration:;">FIN，直接进入5步</tspan></tspan><tspan id="SvgjsTspan1266" dy="16" x="60"><tspan id="SvgjsTspan1267" style="text-decoration:;">骤</tspan></tspan></text></g></g><g id="SvgjsG1268"><path id="SvgjsPath1269" d="M339.26233418112975 312.1095217884131C 471 357.2874984741211 528 238.2874984741211 661.0191837779705 272.358131007414" stroke-dasharray="8,5" stroke="#336600" stroke-width="2" fill="none" marker-start="url(#SvgjsMarker1270)" marker-end="url(#SvgjsMarker1272)"></path></g><g id="SvgjsG1274" transform="translate(526,217.87632429214278)"><path id="SvgjsPath1275" d="M 0 0L 120 0L 120 40L 0 40Z" stroke="none" fill="none"></path><g id="SvgjsG1276"><text id="SvgjsText1277" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="117" fill="#006633" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="2.05" transform="rotate(0)"><tspan id="SvgjsTspan1278" dy="16" x="60"><tspan id="SvgjsTspan1279" style="text-decoration:;">可以同时打开，就需</tspan></tspan><tspan id="SvgjsTspan1280" dy="16" x="60"><tspan id="SvgjsTspan1281" style="text-decoration:;">要四次确认</tspan></tspan></text></g></g><g id="SvgjsG1282" transform="translate(365.943077146409,718.7874984741211)"><path id="SvgjsPath1283" d="M 0 4Q 0 0 4 0L 145 0Q 149 0 149 4L 149 43Q 149 47 145 47L 4 47Q 0 47 0 43Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1284"><text id="SvgjsText1285" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="60" fill="#323232" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="13.55" transform="rotate(0)"><tspan id="SvgjsTspan1286" dy="16" x="74.5"><tspan id="SvgjsTspan1287" style="text-decoration:;">CLOSING</tspan></tspan></text></g></g><g id="SvgjsG1288"><path id="SvgjsPath1289" d="M198.35687095914545 742.2874984741211C 249.35687095914545 715.2875061035156 313.35687095914545 710.2875061035156 365.943077146409 742.2874984741211" stroke-dasharray="8,5" stroke="#009900" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1290)"></path></g><g id="SvgjsG1292" transform="translate(227.35687095914545,725.7874984741211)"><path id="SvgjsPath1293" d="M 0 0L 120 0L 120 40L 0 40Z" stroke="none" fill="none"></path><g id="SvgjsG1294"><text id="SvgjsText1295" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="117" fill="#006600" font-weight="700" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="10.05" transform="rotate(0)"><tspan id="SvgjsTspan1296" dy="16" x="60"><tspan id="SvgjsTspan1297" style="text-decoration:;">同时关闭，四次确认</tspan></tspan></text></g></g><g id="SvgjsG1298"><path id="SvgjsPath1299" d="M440.443077146409 765.7874984741211C 440.443077146409 802.1874984741211 440.443077146409 820.3874984741211 440.443077146409 856.7874984741211" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1300)"></path></g><g id="SvgjsG1302"><path id="SvgjsPath1303" d="M591.688027368558 457.2875061035157C 591.688027368558 563.0197057163341 794.1000213623047 521.5552988613027 794.1000213623047 627.2874984741211" stroke="#ff0000" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1304)"></path></g><g id="SvgjsG1306"><path id="SvgjsPath1307" d="M198.35687095914545 742.2874984741211C 287 769.8875122070312 256 852.8875122070312 365.943077146409 880.2874984741211" stroke-dasharray="8,5" stroke="#994c00" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1308)"></path></g></svg>